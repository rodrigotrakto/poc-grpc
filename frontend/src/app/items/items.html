<div class="items-container">
  <div class="items-grid">
    <!-- Coluna esquerda: HTTP -->
    <div class="items-column">
      <div class="column-header">
        <h2>
          Itens (HTTP) <span style="font-size: 0.8em; color: #666">(mostrando 10 primeiros)</span>
        </h2>
        @if (httpLoading) {
        <div style="padding: 10px; text-align: center; color: #666">‚è≥ Carregando...</div>
        } @if (httpMetrics) {
        <div class="metrics-panel">
          <div class="metric-item">
            <span class="metric-label">‚è±Ô∏è Tempo:</span>
            <span class="metric-value">{{ httpMetrics.duration }}ms</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üì§ Request:</span>
            <span class="metric-value">{{ formatBytes(httpMetrics.requestSize) }}</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üì• Response:</span>
            <span class="metric-value">{{ formatBytes(httpMetrics.responseSize) }}</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üìä Total:</span>
            <span class="metric-value">{{ formatBytes(httpMetrics.totalSize) }}</span>
          </div>
        </div>
        }
      </div>
    </div>

    <!-- Coluna direita: gRPC -->
    <div class="items-column">
      <div class="column-header">
        <h2>
          Itens (gRPC) <span style="font-size: 0.8em; color: #666">(mostrando 10 primeiros)</span>
        </h2>
        @if (grpcLoading) {
        <div style="padding: 10px; text-align: center; color: #666">‚è≥ Carregando...</div>
        } @if (grpcMetrics) {
        <div class="metrics-panel">
          <div class="metric-item">
            <span class="metric-label">‚è±Ô∏è Tempo:</span>
            <span class="metric-value">{{ grpcMetrics.duration }}ms</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üì§ Request:</span>
            <span class="metric-value">{{ formatBytes(grpcMetrics.requestSize) }}</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üì• Response:</span>
            <span class="metric-value">{{ formatBytes(grpcMetrics.responseSize) }}</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">üìä Total:</span>
            <span class="metric-value">{{ formatBytes(grpcMetrics.totalSize) }}</span>
          </div>
        </div>
        }
      </div>
    </div>

    <!-- Painel de Compara√ß√£o (abaixo dos headers, acima dos itens) -->
    @if (httpMetrics && grpcMetrics) {
    <div
      class="comparison-panel"
      style="
        margin: 20px 0;
        padding: 20px;
        background: #f5f5f5;
        border-radius: 8px;
        border: 2px solid #4caf50;
        grid-column: 1 / -1;
      "
    >
      <h3 style="margin-top: 0; color: #333">üìä Compara√ß√£o: gRPC vs HTTP</h3>
      <div
        style="
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 15px;
          margin-top: 15px;
        "
      >
        <div
          style="
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #2196f3;
          "
        >
          <div style="font-weight: bold; color: #2196f3; margin-bottom: 5px">
            üì¶ Tamanho da Resposta
          </div>
          <div style="font-size: 1.5em; font-weight: bold; color: #4caf50">
            @if (advantage.sizeAdvantage !== null && advantage.sizeAdvantage > 0) {
            <span>+{{ advantage.sizeAdvantage }}%</span>
            } @else if (advantage.sizeAdvantage !== null) {
            <span style="color: #f44336">{{ advantage.sizeAdvantage }}%</span>
            }
          </div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px">
            @if (advantage.sizeAdvantage !== null && advantage.sizeAdvantage > 0) { gRPC √© menor que
            HTTP } @else if (advantage.sizeAdvantage !== null) { gRPC √© maior que HTTP }
          </div>
        </div>

        <div
          style="
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #ff9800;
          "
        >
          <div style="font-weight: bold; color: #ff9800; margin-bottom: 5px">
            ‚è±Ô∏è Tempo de Resposta
          </div>
          <div style="font-size: 1.5em; font-weight: bold; color: #4caf50">
            @if (advantage.timeAdvantage !== null && advantage.timeAdvantage > 0) {
            <span>+{{ advantage.timeAdvantage }}%</span>
            } @else if (advantage.timeAdvantage !== null) {
            <span style="color: #f44336">{{ advantage.timeAdvantage }}%</span>
            }
          </div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px">
            @if (advantage.timeAdvantage !== null && advantage.timeAdvantage > 0) { gRPC √© mais
            r√°pido que HTTP } @else if (advantage.timeAdvantage !== null) { gRPC √© mais lento que
            HTTP }
          </div>
        </div>

        <div
          style="
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #9c27b0;
          "
        >
          <div style="font-weight: bold; color: #9c27b0; margin-bottom: 5px">üìä Economia Total</div>
          <div style="font-size: 1.5em; font-weight: bold; color: #4caf50">
            @if (advantage.totalAdvantage !== null && advantage.totalAdvantage > 0) {
            <span>+{{ advantage.totalAdvantage }}%</span>
            } @else if (advantage.totalAdvantage !== null) {
            <span style="color: #f44336">{{ advantage.totalAdvantage }}%</span>
            }
          </div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px">Economia total de bytes</div>
        </div>
      </div>
    </div>
    }

    <!-- Lista de itens HTTP -->
    <div class="items-column">
      @if (items.length > 0) {
      <ul class="items-list">
        @for (item of items; track item.id) {
        <li class="item-card">
          <div class="item-header">
            <h3>{{ item.name }}</h3>
            <span class="item-id">#{{ item.id }}</span>
          </div>
          @if (item.description) {
          <p class="item-description">{{ item.description }}</p>
          } @if (item.createdAt) {
          <p class="item-date">Criado em: {{ item.createdAt | date : 'dd/MM/yyyy HH:mm' }}</p>
          }
        </li>
        }
      </ul>
      } @else {
      <p>Nenhum item encontrado.</p>
      }
    </div>

    <!-- Lista de itens gRPC -->
    <div class="items-column">
      @if (itemsGrpc.length > 0) {
      <ul class="items-list">
        @for (item of itemsGrpc; track item.id) {
        <li class="item-card">
          <div class="item-header">
            <h3>{{ item.name }}</h3>
            <span class="item-id">#{{ item.id }}</span>
          </div>
          @if (item.description) {
          <p class="item-description">{{ item.description }}</p>
          } @if (item.createdAt) {
          <p class="item-date">Criado em: {{ item.createdAt | date : 'dd/MM/yyyy HH:mm' }}</p>
          }
        </li>
        }
      </ul>
      } @else {
      <p>Nenhum item encontrado.</p>
      }
    </div>
  </div>
</div>
